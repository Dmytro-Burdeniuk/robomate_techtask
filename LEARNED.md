# LEARNED ‚Äî DuckDB

## –ó–∞—Å–≤–æ—î–Ω–æ –≤ –ø—Ä–æ—Ü–µ—Å—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

* –ó—Ä–æ–∑—É–º—ñ–≤, —â–æ DuckDB ‚Äî —Ü–µ –≤–±—É–¥–æ–≤–∞–Ω–∞ **–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∞ (OLAP)** –±–∞–∑–∞ –¥–∞–Ω–∏—Ö, –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∞ –Ω–∞ —Ä–æ–±–æ—Ç—É –∑ –≤–µ–ª–∏–∫–∏–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–∏—Ö –ª–æ–∫–∞–ª—å–Ω–æ.
* –î—ñ–∑–Ω–∞–≤—Å—è –ø—Ä–æ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é **"–≥–∞—Ä—è—á–æ–≥–æ" —Ç–∞ "—Ö–æ–ª–æ–¥–Ω–æ–≥–æ" —à–∞—Ä—É –¥–∞–Ω–∏—Ö** (Hot/Cold storage) —ñ —è–∫ —ó—ó –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.
* –ù–∞–≤—á–∏–≤—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ DuckDB —è–∫ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–µ **—Ñ–∞–π–ª–æ–≤–µ —Å—Ö–æ–≤–∏—â–µ** –¥–ª—è —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –æ–∫—Ä–µ–º–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
* –ü–æ–±–∞—á–∏–≤, —â–æ DuckDB –º–æ–∂–µ –≤–∏—Å—Ç—É–ø–∞—Ç–∏ **–ª–µ–≥–∫–æ—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ—é ClickHouse —á–∏ Parquet** —É –Ω–µ–≤–µ–ª–∏–∫–∏—Ö –ø—Ä–æ—î–∫—Ç–∞—Ö.

## –Ø–∫ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞–≤ —É —Ä—ñ—à–µ–Ω–Ω—è

* **–î–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –≤ –∫–æ–¥—ñ:** —É –º–æ–¥—É–ª—ñ `app/compaction.py` —Å—Ç–≤–æ—Ä–µ–Ω–æ —Å–µ—Ä–≤—ñ—Å, —è–∫–∏–π:

  * –≤–∏—Ç—è–≥—É—î —Å—Ç–∞—Ä—ñ –ø–æ–¥—ñ—ó (>7 –¥–Ω—ñ–≤) –∑ PostgreSQL;
  * –∑–±–µ—Ä—ñ–≥–∞—î —ó—Ö —É —Ñ–∞–π–ª `cold_storage.duckdb`;
  * –≤–∏–¥–∞–ª—è—î –ø–µ—Ä–µ–º—ñ—â–µ–Ω—ñ –∑–∞–ø–∏—Å–∏ –∑ –æ—Å–Ω–æ–≤–Ω–æ—ó –ë–î.
* –¢–∞–∫–∏–º —á–∏–Ω–æ–º, PostgreSQL –≤–∏—Å—Ç—É–ø–∞—î **–≥–∞—Ä—è—á–∏–º —à–∞—Ä–æ–º**, –∞ DuckDB ‚Äî **—Ö–æ–ª–æ–¥–Ω–∏–º —à–∞—Ä–æ–º** –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏.

## –ü–ª—é—Å–∏ / –ú—ñ–Ω—É—Å–∏ / –¢—Ä–µ–π–¥-–æ—Ñ–∏

**–ü–ª—é—Å–∏**

* –ü—Ä–æ—Å—Ç–æ—Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó: –ø—Ä–∞—Ü—é—î —è–∫ –∑–≤–∏—á–∞–π–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ Python.
* –ù–µ –ø–æ—Ç—Ä–µ–±—É—î –æ–∫—Ä–µ–º–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —á–∏ –º–µ—Ä–µ–∂–µ–≤–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.
* –î—É–∂–µ —à–≤–∏–¥–∫–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ (–æ—Å–æ–±–ª–∏–≤–æ –Ω–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—è—Ö).
* –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å —ñ–∑ Parquet/CSV/Arrow –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É.

**–ú—ñ–Ω—É—Å–∏**

* –ù–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –≤–∏—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.
* –ù–µ –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º—É —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—ó –∞–±–æ –¥–æ—Å—Ç—É–ø—É –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ.
* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø–µ—Ä–µ–≤–∞–∂–Ω–æ –¥–ª—è batch-–∞–Ω–∞–ª—ñ—Ç–∏–∫–∏, –∞ –Ω–µ live API.

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ / –∫–æ–ª–∏ —É–Ω–∏–∫–∞—Ç–∏**

*  –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ **—ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ** –ª–æ–∫–∞–ª—å–Ω–æ –∞–±–æ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –∫–æ–º–ø–∞–∫—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –∑ –≥–∞—Ä—è—á–æ–≥–æ —à–∞—Ä—É.
* üö´–£–Ω–∏–∫–∞—Ç–∏, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ **–æ–±—Ä–æ–±–ª—è—Ç–∏ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–∏—Ö —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ** –∞–±–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω **–±–∞–≥–∞—Ç–æ–∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –¥–æ—Å—Ç—É–ø** —ñ–∑ –≤–∏—Å–æ–∫–∏–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º.

---
